---
name: Чем горутины отличаются от потоков?
module: Теория
tags:
  - грейды
  - озон
---

Горутины гораздо более легковесны и требуют меньше памяти, поэтому их можно создать больше. Горутины шедулятся рантаймом языка в юзерспейсе, в то время как потоки шедулятся операционной системой в кернелспейсе. Из этого следует также и меньшее количество переключений контекста в случае использования горутин.

**Дополнительные вопросы**

Q: Что можно сказать про стек горутины и стек потока?
A: Изначально у горутины небольшой стек который может расти до 1 гб на 64-битных ОС и до 256 мб на 32-битных системах. У потока же изначально большой стек который не может динамически увеличиваться.
https://github.com/golang/go/blob/go1.22.0/src/runtime/proc.go#L157

Q: Сколько можно создать горутин?
A: Количество горутин не ограничено, можно создавать столько на сколько хватит памяти

Q: Что такое GOMAXPROCS?
A: Это переменная ограничивающая количество потоков ОС используемых для исполнения горутин