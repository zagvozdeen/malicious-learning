---
name: Какие существуют варианты для масштабирования сервиса?
module: Архитектура
tags:
  - грейды
  - озон
---
Есть два сервиса A и B, сервис A отправляет запросы в сервис B по HTTP. Какие
существуют варианты для масштабирования сервиса B? Можно использовать любые
технологии.

Здесь нету одного однозначно правильного ответа, т.к. все очень сильно зависит от конкретной ситуации, но основные направления такие:

• serverside balancing. Добавляем промежуточный балансировщик (nginx / haproxy).
• clientside balancing. Используем DNS / consul / etcd из которого A узнает где запущен B.

**Дополнительные вопросы**

Q: Какие есть плюсы и минусы у одной/обоих схем?

Q: Сколько балансировщиков будет в первой схеме?
A: Как минимум два

Q: Если их больше, чем один, то как приложение узнает где они запущены? (возвращаемся к оригинальной задаче)
A: Балансеры можно находить через DNS.

Q: Как именно будет выглядеть discovery через DNS?
A: Ожидается ответ про A-записи, SRV-записи
