---
name: Что такое интерфейс в Go? Как он устроен?
module: Теория
tags:
  - грейды
  - озон
---

```go
package main

type Foo struct{}

func (f *Foo) A() {}
func (f *Foo) B() {}
func (f *Foo) C() {}

type AB interface {
	A()
	B()
}

type BC interface {
	B()
	C()
}

func main() {
	var f AB = &Foo{}
	y := f.(BC) // сработает ли такой type-assertion?
	y.A()       // а этот вызов?
	_ = y
}
```

**17 грейд**

Интерфейс в Go — это абстракция поведения других типов: определение, описывающее конкретные методы, которые должны быть у какого-то другого типа. В этом случае можно утверждать, что "тип удовлетворяет интерфейсу".
Интерфейсы позволяют определить обобщенную реализацию без привязки к конкретному типу.
Когда в Go объявление (переменной, параметра функции или поля структуры) имеет
интерфейсный тип, можно использовать объект любого типа, пока он удовлетворяет
интерфейсу в объявлении.

Рассказал что такое duck-typing.

Может назвать несколько интерфейсов из stdlib: error, io.Writer, io.Reader, context.Context, stringer, etc

**18 грейд**

Ответил на вопросы из примера кода.

**Дополнительные вопросы**

Q: Что такое "пустой интерфейс" (interface{})?
A: Пустой интерфейсный тип не описывает методы. Любой объект удовлетворяет пустому интерфейсу.

Q: Когда допустимо применять пустой интерфейс?
A: В случае реализации кода, который должен уметь работать с любым типом данных. Например, функция fmt.Print стандартной библиотеки.

Q: Каковы основные отличия применения интерфейса в Go от интерфейсов классического ООП-языка (Java, C#, etc)?
A: Разница в том, что обычно в ООП-языках имплементация интерфейса указывается для класса явно, в Go имплементация неявная (duck typing).
