---
name: Что такое каналы? Зачем нужны?
module: Теория
tags:
  - грейды
  - озон
---
**18 грейд**

Каналы ― механизм взаимодействия между горутинами. Потокобезопасны, то есть к одному каналу могут обращаться несколько горутин одновременно.

Q: Какие они бывают?\
A: Буфферизированные(асинхронные) и небуферизированные(синхронные)

Q: К чему приведут операции чтения/записи над закрытым каналом?\
A: Чтение вернет нулевое значение, запись вызовет панику

Q: К чему приведут операции чтения/записи над nil каналом?\
A: Чтение из nil канала приведет к блокировке навсегда. Запись в nil канал приведет к блокировке навсегда. Закрытие такого канала приводит к panic.

Q: Какой еще способ блокировки навсегда?\
A: `select {}` (Если это не совсем очевидно, можно сначала спросить про select, а потом вернуться к этому вопросу)

Q: Что такое select и как он работает?\
A: Если вкратце: switch для каналов.

Q: Какие существуют другие примитивы синхронизации?\
A: Mutex, WaitGroup.

**19 грейд**

Q: Как устроен внутри?\
A: Структура с метаданными по типу "размер буффера", "закрыт/открыт", "связанные горутины" и тд. Также в этой структуре есть мьютекс для безопасного доступа к каналу

Q: Паттерны конкурентного программирования, использующие каналы\
A: Генераторы, Fan-In, Fan-Out, Управляющий канал и тд