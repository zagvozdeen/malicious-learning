---
name: Утечка памяти
module: ОС, сети и эксплуатация
tags:
  - грейды
---
На голом сервере запущен какой-то сервис и в нем есть утечка памяти. Что произойдет, когда память закончится? Речь не про кубер и ограничения контейнеров, а про голый сервер.

**18 грейд**

Система убьет процесс

**19 грейд**

Кандидат должен рассказать, что есть два варианта: включен своп или нет.

Если своп включен, то система может жить в таком состоянии довольно долго тк для памяти будет использоваться диск.

Если своп отключен, то придет OOM Killer и начнет убивать процессы. Не факт, что умрет именно наш сервис, но рано или поздно его тоже убьет.

**20 грейд**

Дополнительный вопрос: "На какой тип памяти система будет опираться при решении запустить OOM Killer?"

Важно, что система оценивает не вирутальную память, а только реально используемую память, которая мапится в физическую.

Дополнительный вопрос: "Зачем нужна виртуальная память?"

Виртуальная память это концепт современных операционных систем позволяющая через механизм страниц транслировать части виртуальной памяти в другие типы памяти: диск, физическая память, память устройств и тд. Так же виртуальная память обеспечивает разделение памяти между процессами и возможность защищать куски памяти от операций записи или от выполнения кода.
