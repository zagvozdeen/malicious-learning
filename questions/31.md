---
question: 'LocalOutlierFactor: почему при вычислении Reachability distance получается не симметричная матрица?'
module: Теория
---

В методе LOF (Local Outlier Factor) *reachability distance* определяется не просто как расстояние между точками, а с учётом радиуса соседей одной из точек. Конкретно, **reachability-dist_{k}(A, B)** = max{ k-dist(B), dist(A, B) }, где k-dist(B) – расстояние от точки B до её k-го соседа.
Из-за этого reachability расстояние несимметрично: reachability-dist(A, B) и reachability-dist(B, A) – разные величины, ведь в одном случае берётся k-дистанция точки B, а в другом – точки A. Например, если точка B имеет далёких соседей (большой радиус k-dist), то reach-dist(A,B) примет это большое значение (ограничится им), а обратное reach-dist(B,A) может быть совсем другим (ограничится k-dist(A) если оно иное).
Проще говоря, расстояние достижимости – направленное: оно показывает, насколько A доступен из B в пределах плотности вокруг B. В LOF так задумано, чтобы сравнивать плотности: локальная плотность A оценивается относительно плотности его соседей. Поэтому матрица таких расстояний получается нессимметричной.
